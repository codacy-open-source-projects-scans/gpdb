-- start_ignore
DROP ROLE IF EXISTS r1;
DROP ROLE
DROP RESOURCE GROUP rg1;
ERROR:  resource group "rg1" does not exist
-- end_ignore

CREATE RESOURCE GROUP rg1 WITH (concurrency=2, cpu_max_percent=10);
CREATE RESOURCE GROUP
CREATE ROLE r1 RESOURCE GROUP rg1;
CREATE ROLE

1: SET ROLE r1;
SET
1: BEGIN;
BEGIN
1: END;
COMMIT

ALTER ROLE r1 RESOURCE GROUP none;
ALTER ROLE
DROP RESOURCE GROUP rg1;
DROP RESOURCE GROUP
CREATE RESOURCE GROUP rg1 WITH (concurrency=2, cpu_max_percent=10);
CREATE RESOURCE GROUP
ALTER ROLE r1 RESOURCE GROUP rg1;
ALTER ROLE

1: BEGIN;
BEGIN
1: END;
COMMIT

DROP ROLE r1;
DROP ROLE
DROP RESOURCE GROUP rg1;
DROP RESOURCE GROUP
